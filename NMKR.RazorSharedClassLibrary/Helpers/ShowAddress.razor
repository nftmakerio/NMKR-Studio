@if (!string.IsNullOrEmpty(Address))
{
    <span style="white-space: nowrap;">
        <MudLink Typo="Typo.body2" Href="@ExplorerLink" Target="_blank" Color="Color.Info">
            @GlobalFunctions.GetStartAndEnd(Address, 6)
        </MudLink>
        <CopyToClipboard content="@Address" name="@(Blockchain.ToString()+" Address")"></CopyToClipboard>
    </span>
}


@code {
    [Parameter]
    public string? Address { get; set; }
    [Parameter]
    public Blockchain Blockchain { get; set; }
    private string ExplorerLink { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await using var db = new EasynftprojectsContext(GlobalFunctions.optionsBuilder.Options);
        var activeblockchain = await db.Activeblockchains.Where(x=>x.Enabled && x.Name==Blockchain.ToString()).AsNoTracking().FirstOrDefaultAsync();
        if (activeblockchain != null)
        {
            string ext = "";
            if (Blockchain == Blockchain.Cardano)
            {
                ext = "address";
                if (Address!=null && Address.StartsWith("stake"))
                    ext = "stakeKey";
            }

            if (!string.IsNullOrEmpty(Address))
                ExplorerLink = String.Format(activeblockchain.Explorerurladdress, Address, ext);
        }


    }

}
