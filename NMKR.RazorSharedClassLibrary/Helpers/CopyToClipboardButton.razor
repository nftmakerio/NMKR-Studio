@inject ClipboardService ClipboardService
@inject ISnackbar Snackbar


<MudButton DropShadow="false" Class="rounded-pill px-6 py-3" Disabled="@Disabled" StartIcon="@Icons.Material.Filled.ContentCopy" Variant="Variant.Filled" OnClick="CopyToClipboard" Color="Color.Tertiary">Copy to Clipboard</MudButton>

@code {
    [Parameter]
    public string Content { get; set; }
    [Parameter]
    public string Name { get; set; }
    [Parameter]
    public bool Disabled { get; set; }

    private async Task CopyToClipboard()
    {
    // Writing to the clipboard may be denied, so you must handle the exception
        try
        {
            await ClipboardService.WriteTextAsync(Content);
            Snackbar.Configuration.PositionClass = Defaults.Classes.Position.TopCenter;
            Snackbar.Add($"{Name} copied to clipboard", Severity.Success);
        }
        catch
        {
            Snackbar.Configuration.PositionClass = Defaults.Classes.Position.TopCenter;
            Snackbar.Add("Copy to clipboard was denied", Severity.Error);
        }
    }
}
